<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SynapseStudy â€” Subjects</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <nav class="topbar">
      <div class="brand">SynapseStudy</div>

      <div class="top-actions">
        <a class="subject-box" href="./subjects/language.html" aria-label="Language subject">Language</a>
      </div>
    </nav>

    <main class="content">
      <h1>Welcome to Synapse Study</h1>
      <p>Into the search bar below input your problem, prompt, text, screenshot, or photo you are trying to solve or need help studying.</p>

      <form id="homeSearchForm" class="search-bar" role="search" aria-label="Home search">
        <input
          id="homeSearchInput"
          class="search-input"
          type="search"
          placeholder="Search a topic..."
          autocomplete="off"
          aria-label="Search topic"
          required
        />
        <button class="search-btn" type="submit">Search</button>
      </form>
    </main>

    <script>
      (function () {
        const form = document.getElementById('homeSearchForm');
        const input = document.getElementById('homeSearchInput');

        // Restore prior query for convenience
        const prior = localStorage.getItem('study_search_query');
        if (prior && input instanceof HTMLInputElement) input.value = prior;

        if (form && input instanceof HTMLInputElement) {
          form.addEventListener('submit', (e) => {
            e.preventDefault();
            const q = input.value.trim();
            if (!q) return;
            localStorage.setItem('study_search_query', q);
            // Navigate directly to Study Features (no button)
            window.location.href = './study-features.html';
          });
        }
      })();
    </script>

  </body>
</html>
